<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie10 lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie10 lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie10 lt-ie9"> <![endif]-->
<!--[if IE 9]>         <html class="no-js lt-ie10"> <![endif]-->
<!--[if gt IE 9]><!--><html class="no-js"><!--<![endif]-->
	<head>
		<meta charset="utf-8"/>
		<title>Tessel Key</title>
		<link rel="shortcut icon" href="/images/favicon.ico"/>
		<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/normalize/2.1.0/normalize.css"/>
		<link rel="stylesheet" type="text/css" href="/styles/all.css"/>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/prefixfree/1.0.7/prefixfree.min.js"></script>
	</head>
	<body>
		<!-- ko with: board -->
			<div id="form-and-info">
				<h1>Tessel Key</h1>
				<form>
					<div>
						<label for="scale">Scale</label>
						<input id="scale" type="range" min="0.2" max="1" step="0.001" data-bind="value: scale"/>
					</div>
					<div>
						<label for="rotation">Rotation</label>
						<input id="rotation" type="range" min="-180" max="180" step="0.1" data-bind="value: rotation"/>
					</div>
				</form>

				<div id="tessel-info">
					<!-- ko template: 'board-tmpl' --><!-- /ko -->
				</div>
			</div>

			<div id="tessel" data-bind="style: { width: width, height: height, '-webkit-transform': transform, transform: transform }">
				<img alt="Tessel" src="/images/tessel.webp"/>
				<!-- ko template: 'board-tmpl' --><!-- /ko -->
			</div>
		<!-- /ko -->

		<script type="text/html" id="list-item-tmpl">
			<li data-bind="
				text: name
				, 'class': cssClass
				, css: {
					hovered: hovered
				}
				, attr: { title: description }
				, event: {
					mouseenter: hovered.bind($data, true)
					, mouseleave: hovered.bind($data, false)
				}
			"></li>
		</script>

		<script type="text/html" id="board-tmpl">
			<ul class="chips" data-bind="template: { name: 'list-item-tmpl', foreach: chips }"></ul>
			<ul class="switches" data-bind="template: { name: 'list-item-tmpl', foreach: switches }"></ul>
			<ul class="leds" data-bind="template: { name: 'list-item-tmpl', foreach: leds }"></ul>

			<ul class="pin-groups" data-bind="foreach: pinGroups">
				<li data-bind="
					'class': cssClass
					, css: {
						hovered: hovered
						, 'hovered-child': hasHoveredChild
					}
					, attr: { title: description }
					, event: {
						mouseenter: hovered.bind($data, true)
						, mouseleave: hovered.bind($data, false)
					}
				">
					<span data-bind="text: name"></span>
					<ul class="pins" data-bind="template: { name: 'list-item-tmpl', foreach: pins }"></ul>
				</li>
			</ul>
		</script>

		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/lodash.js/1.3.1/lodash.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/underscore.string/2.3.3/underscore.string.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout/2.3.0/knockout-min.js"></script>
		<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/knockout.mapping/2.3.5/knockout.mapping.js"></script>
		<script type="text/javascript" src="/scripts/knockout.extensions.js"></script>
		<script type="text/javascript" src="/scripts/util.js"></script>
		<script type="text/javascript" src="/scripts/app.js"></script>
	</body>
</html>